# Выделение слов из словаря оранжевым цветом

## Новая функциональность

Все слова, которые были добавлены в словарь, теперь выделяются оранжевым цветом в тексте.

## Как это работает

### Визуальное выделение
- **Оранжевый фон** (`#FF9800`) для слов из словаря
- **Белый текст** для лучшей читаемости
- **Жирный шрифт** для выделения
- **Tooltip** при наведении: "Слово из словаря: [оригинальное слово]"

### Автоматическое обновление
- При добавлении слова в словарь → сразу появляется оранжевое выделение
- При удалении слова из словаря → выделение исчезает
- При переключении страниц → выделения сохраняются

## Как тестировать

### Шаг 1: Добавьте слова в словарь
1. Откройте любую книгу
2. Дважды кликните на несколько слов
3. Убедитесь, что они добавились в словарь

### Шаг 2: Проверьте выделения
1. Просмотрите текст - слова должны быть выделены оранжевым
2. Наведите курсор на выделенное слово - должен появиться tooltip
3. Переключитесь на другую страницу и обратно - выделения должны сохраниться

### Шаг 3: Проверьте удаление
1. Откройте словарь
2. Удалите одно из слов
3. Вернитесь к тексту - выделение должно исчезнуть

### Шаг 4: Проверьте дублирование
1. Попробуйте добавить слово, которое уже в словаре
2. Должно появиться информационное уведомление
3. Выделение не должно дублироваться

## Особенности

### Регистронезависимый поиск
- Слово "Hello" будет выделено, даже если в тексте написано "hello"
- Учитываются все формы слова

### Пересечения с комментариями
- Если слово из словаря пересекается с комментарием, приоритет у комментария
- Комментарии отображаются поверх выделений словаря

### Производительность
- Поиск слов происходит только на текущей странице
- Выделения обновляются автоматически при изменении словаря

## Цветовая схема

- **Оранжевый** (`#FF9800`) - слова из словаря
- **Различные цвета** - комментарии пользователя
- **Синий** - выделение при клике для перевода

## Отладка

### Проверьте консоль браузера
- Логи показывают процесс добавления/удаления слов
- Ошибки при обновлении отображения

### Проверьте localStorage
- Слова сохраняются в `userDictionary`
- Структура: `{word, originalWord, translation, bookId, pageNumber}`

### Проверьте состояние React
- `userDictionary` - массив слов в словаре
- `forceUpdate` - принудительное обновление отображения
