# Руководство по использованию двойного клика для добавления слов в словарь

## Функциональность

### Добавление слова в словарь
- **Двойной клик** на любое слово в тексте добавляет его в словарь
- Слово автоматически переводится и сохраняется с полной информацией
- Показывается уведомление об успешном добавлении

### Проверка дублирования
- Если слово уже добавлено в словарь, показывается информационное уведомление
- Дублирование проверяется по книге (одно слово может быть в разных книгах)

### Уведомления
- **Зеленое** - слово успешно добавлено в словарь
- **Синее** - информационное сообщение (например, слово уже в словаре)
- **Красное** - ошибка или удаление

## Как использовать

1. **Загрузите книгу** через интерфейс загрузки файлов
2. **Откройте книгу** в читалке
3. **Дважды кликните** на любое слово в тексте
4. **Дождитесь** уведомления об успешном добавлении
5. **Откройте словарь** через боковую панель для просмотра добавленных слов

## Особенности

### Обработка ошибок
- При ошибке перевода показывается красное уведомление
- При ошибке сохранения показывается красное уведомление
- Все ошибки логируются в консоль для отладки

### Производительность
- Слова сохраняются в localStorage для быстрого доступа
- Уведомления автоматически исчезают через 3 секунды
- Предыдущие уведомления автоматически удаляются при показе новых

### Безопасность
- Двойное подтверждение при удалении слов из словаря
- Двойное подтверждение при удалении комментариев
- Проверка на существующие слова перед добавлением

## Тестирование

Используйте файл `test-double-click.txt` для тестирования функциональности:

1. Загрузите файл в приложение
2. Попробуйте двойной клик на разных словах
3. Проверьте, что слова появляются в словаре
4. Попробуйте двойной клик на уже добавленном слове
5. Проверьте работу уведомлений

## Технические детали

### Компоненты
- `TextReader.tsx` - основная логика двойного клика
- `UserDictionary.tsx` - отображение словаря
- `TranslationTooltip.tsx` - отображение переводов

### API
- `translationService.ts` - сервис для получения переводов
- localStorage - локальное хранение словаря

### Стили
- Анимации уведомлений в `App.css`
- Использование шрифтов Montserrat и Fira Sans
